{% extends 'base.html' %}

{% block title %}
    <title>Stadistics</title>
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <py-env>
        - numpy
        - matplotlib
    </py-env>
{% endblock %}

{% block body %}
<link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
<script defer src="https://pyscript.net/alpha/pyscript.js"></script>
<py-env>
        - numpy
        - matplotlib
</py-env>
<div class='text-center'>
    <p class='h1'>{{_('This is an example')}}</p>
    <p class='h2'>{{_('Exponential distribution histogram')}}</p>
    <p>{{_('This example show a exponential distribution generated with random numbers.')}}</p>
    <p>{{_('The plot was generated by py-script')}}</p>
    <div id="plot"></div>
</div>
<py-script output="plot">
import numpy as np
from matplotlib import pyplot as plt
from math import log, sqrt

def gen_np():
    numbers = []
    for i in range(1000):
        numbers.append(np.random.uniform(0, 1))
    return numbers

def ExponencialT(pseudo: list, lmbda: float) -> list:
    expo = []
    for r in pseudo:
        x = log(1-r)/(-lmbda)
        expo.append(x)
    return expo

l=gen_np()
l=ExponencialT(l, 3)

fig, ax=plt.subplots()
ax.hist(l, bins=round(sqrt(len(l))))

fig
</py-script>

{% endblock %}